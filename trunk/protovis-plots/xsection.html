<!DOCTYPE html>
<html>
<head>
<title>Spline Editor</title>
<script type="text/javascript" src="protovis-d3.3.js"></script>
<script type="text/javascript" src="plots.js"></script>
<style type="text/css">
#center {
}
#fig {
	height: 600px;
	position: absolute;
	width: 800px;
}

.header {
	float: right;
	padding-top: 5px;
}

.instructions {
	position: relative;
}
</style>
</head>
<body>
<div class="instructions">
<h1>Introduction:</h1>
<p>The chart below shows :-
<ul>
 <li>The cross section as <b>hollow blue dots</b> connected with a blue line.</li> 
 <li>The <b>solid blue dots</b> are the points representing the elevation profile.</li>
 <li>The <b>green hollow circles</b> of various sizes are the bathymetry raw data points projected onto the cross-section.<br/>
The distance of these points from cross section represented by circles of varying size (also referenced in the legend at top left).<br/>
The age of these points are also scaled using a color that fades to white as the points get older ( scale referenced in the legend). <br/>
Also hovering over the bathymetry points will show the available information for those points.
</li>
</ul>
</p>
<h1>Usage:</h1>
<p> </p>
<ul>
	<li>Adding/Inserting Points:
	<p>Click to add points to the right most point or if you want to
	insert points carefully place mouse on the line between the two points
	(cursor should change)</p>
	</li>
	<li>Editing existing points:
	<p>Click and drag the point to the desired location.</p>
	</li>
	<li>Deleting existing points:
	<p>First select the point to be deleted by clicking on it. Then use
	the "Delete" key on your keyboard to remove it</p>
	</li>
</ul>
</div>
<div id="center">
<div id="fig"></div>
<script type="text/javascript">
    var w=800;
    var h=600;
	var profile = [{x: -400, y: -4.5}, {x:-100, y: -8.0}, {x:-25, y: -9.7}, {x:155, y:-7.6}, {x: 300, y:-4.3}, {x: 355, y: -3.1}];
	var points = pv.range(1,100).map(function(i) { return (
		{x: Math.random()*800-400, y:-10+Math.random()*7, z: 400-Math.random()*800, year: Math.random()*50+1960}
		);
	});
	var xsection = profile.map(function(d){ return {x: d.x, y:d.y};});
	var dsm2xs = profile.map(function(d){ return {x: d.x*(1.2-0.4*Math.random()), y:d.y*(1.2-0.4*Math.random())};});
    
	plots.xsection_editor("fig",xsection, dsm2xs, profile, points, w, h);    
    </script></div>

</body>
</html>
